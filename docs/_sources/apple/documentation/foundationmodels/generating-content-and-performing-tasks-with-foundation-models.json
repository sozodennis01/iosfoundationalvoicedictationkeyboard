{"identifier":{"interfaceLanguage":"swift","url":"doc://com.apple.foundationmodels/documentation/FoundationModels/generating-content-and-performing-tasks-with-foundation-models"},"schemaVersion":{"major":0,"minor":3,"patch":0},"variants":[{"paths":["/documentation/foundationmodels/generating-content-and-performing-tasks-with-foundation-models"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"roleHeading":"Article","role":"article","images":[{"type":"card","identifier":"foundation-models-PageImage-card.png"}],"title":"Generating content and performing tasks with Foundation Models","modules":[{"name":"Foundation Models"}]},"abstract":[{"type":"text","text":"Enhance the experience in your app by prompting an on-device large language model."}],"kind":"article","sections":[],"hierarchy":{"paths":[["doc://com.apple.documentation/documentation/technologies","doc://com.apple.foundationmodels/documentation/FoundationModels"],["doc://com.apple.documentation/documentation/technologies","doc://com.apple.foundationmodels/documentation/FoundationModels","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase"],["doc://com.apple.documentation/documentation/technologies","doc://com.apple.foundationmodels/documentation/FoundationModels","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase"],["doc://com.apple.documentation/documentation/technologies","doc://com.apple.foundationmodels/documentation/FoundationModels","doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase"]]},"seeAlsoSections":[{"generated":true,"identifiers":["doc://com.apple.foundationmodels/documentation/FoundationModels/improving-the-safety-of-generative-model-output","doc://com.apple.foundationmodels/documentation/FoundationModels/supporting-languages-and-locales-with-foundation-models","doc://com.apple.foundationmodels/documentation/FoundationModels/adding-intelligent-app-features-with-generative-models","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase"],"title":"Essentials","anchor":"Essentials"}],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","anchor":"overview","text":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Foundation Models framework lets you tap into the on-device large models at"},{"text":" ","type":"text"},{"text":"the core of Apple Intelligence. You can enhance your app by using generative","type":"text"},{"text":" ","type":"text"},{"text":"models to create content or perform tasks. The framework supports language","type":"text"},{"text":" ","type":"text"},{"text":"understanding and generation based on model capabilities.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"For design guidance, see Human Interface Guidelines > Technologies > ","type":"text"},{"isActive":true,"identifier":"https://developer.apple.com/design/human-interface-guidelines/generative-ai","type":"reference"},{"text":".","type":"text"}]},{"level":2,"anchor":"Understand-model-capabilities","type":"heading","text":"Understand model capabilities"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When considering features for your app, it helps to know what the on-device"},{"text":" ","type":"text"},{"text":"language model can do. The on-device model supports text generation and","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"understanding that you can use to:"}]},{"header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Capability"}]}],[{"inlineContent":[{"text":"Prompt example","type":"text"}],"type":"paragraph"}]],[[{"inlineContent":[{"type":"text","text":"Summarize"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"“Summarize this article.”"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Extract entities"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"“List the people and places mentioned in this text.”"}]}]],[[{"inlineContent":[{"type":"text","text":"Understand text"}],"type":"paragraph"}],[{"inlineContent":[{"text":"“What happens to the dog in this story?”","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Refine or edit text","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"“Change this story to be in second person.”","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"text":"Classify or judge text","type":"text"}]}],[{"inlineContent":[{"type":"text","text":"“Is this text relevant to the topic ‘Swift’?”"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Compose creative writing"}]}],[{"inlineContent":[{"type":"text","text":"“Generate a short bedtime story about a fox.”"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"text":"Generate tags from text","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"“Provide two tags that describe the main topics of this text.”"}]}]],[[{"inlineContent":[{"type":"text","text":"Generate game dialog"}],"type":"paragraph"}],[{"inlineContent":[{"type":"text","text":"“Respond in the voice of a friendly inn keeper.”"}],"type":"paragraph"}]]],"type":"table"},{"inlineContent":[{"type":"text","text":"The on-device language model may not be suitable for handling all requests, like:"}],"type":"paragraph"},{"header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"text":"Capabilities to avoid","type":"text"}]}],[{"type":"paragraph","inlineContent":[{"text":"Prompt example","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Do basic math"}]}],[{"type":"paragraph","inlineContent":[{"text":"“How many b’s are there in bagel?”","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"type":"text","text":"Create code"}]}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"“Generate a Swift navigation list.”"}]}]],[[{"inlineContent":[{"text":"Perform logical reasoning","type":"text"}],"type":"paragraph"}],[{"type":"paragraph","inlineContent":[{"type":"text","text":"“If I’m at Apple Park facing Canada, what direction is Texas?”"}]}]]],"type":"table"},{"type":"paragraph","inlineContent":[{"text":"The model can complete complex generative tasks when you use guided generation or","type":"text"},{"text":" ","type":"text"},{"text":"tool calling. For more on handling complex tasks, or tasks that require extensive","type":"text"},{"text":" ","type":"text"},{"text":"world-knowledge, see ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/generating-swift-data-structures-with-guided-generation"},{"text":"","type":"text"},{"text":" ","type":"text"},{"text":"and ","type":"text"},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/expanding-generation-with-tool-calling","isActive":true,"type":"reference"},{"type":"text","text":"."}]},{"text":"Check for availability","anchor":"Check-for-availability","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Before you use the on-device model in your app, check that the model is available"},{"type":"text","text":" "},{"text":"by creating an instance of ","type":"text"},{"type":"reference","isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel"},{"type":"text","text":" with the "},{"isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/default","type":"reference"},{"type":"text","text":""},{"text":" ","type":"text"},{"type":"text","text":"property."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Model availability depends on device factors like:"}]},{"items":[{"content":[{"inlineContent":[{"text":"The device must support Apple Intelligence.","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The device must have Apple Intelligence turned on in Settings."}]}]}],"type":"unorderedList"},{"name":"Note","type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"text":"It can take some time for the model to download and become available when","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"a person turns on Apple Intelligence."}]}]},{"inlineContent":[{"type":"text","text":"Always verify model availability first, and plan for a fallback experience in"},{"text":" ","type":"text"},{"type":"text","text":"case the model is unavailable."}],"type":"paragraph"},{"code":["struct GenerativeView: View {","    // Create a reference to the system language model.","    private var model = SystemLanguageModel.default","","    var body: some View {","        switch model.availability {","        case .available:","            // Show your intelligence UI.","        case .unavailable(.deviceNotEligible):","            // Show an alternative UI.","        case .unavailable(.appleIntelligenceNotEnabled):","            // Ask the person to turn on Apple Intelligence.","        case .unavailable(.modelNotReady):","            // The model isn't ready because it's downloading or because of other system reasons.","        case .unavailable(let other):","            // The model is unavailable for an unknown reason.","        }","    }","}"],"type":"codeListing","syntax":"swift"},{"anchor":"Create-a-session","text":"Create a session","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"After confirming that the model is available, create a ","type":"text"},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession","isActive":true,"type":"reference"},{"type":"text","text":" "},{"type":"text","text":"object to call the model. For a single-turn interaction, create a new session"},{"type":"text","text":" "},{"text":"each time you call the model:","type":"text"}]},{"code":["// Create a session with the system model.","let session = LanguageModelSession()"],"type":"codeListing","syntax":"swift"},{"inlineContent":[{"type":"text","text":"For a multiturn interaction — where the model retains some knowledge of what"},{"text":" ","type":"text"},{"type":"text","text":"it produced — reuse the same session each time you call the model."}],"type":"paragraph"},{"anchor":"Provide-a-prompt-to-the-model","level":2,"type":"heading","text":"Provide a prompt to the model"},{"inlineContent":[{"text":"A ","type":"text"},{"isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Prompt","type":"reference"},{"text":" is an input that the model responds to. Prompt engineering is the art","type":"text"},{"type":"text","text":" "},{"type":"text","text":"of designing high-quality prompts so that the model generates a best possible"},{"text":" ","type":"text"},{"type":"text","text":"response for the request you make. A prompt can be as short as “hello”, or as"},{"text":" ","type":"text"},{"text":"long as multiple paragraphs. The process of designing a prompt involves a lot of","type":"text"},{"text":" ","type":"text"},{"text":"exploration to discover the best prompt, and involves optimizing prompt length","type":"text"},{"type":"text","text":" "},{"text":"and writing style.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"When thinking about the prompt you want to use in your app, consider using","type":"text"},{"text":" ","type":"text"},{"text":"conversational language in the form of a question or command. For example,","type":"text"},{"text":" ","type":"text"},{"text":"“What’s a good month to visit Paris?” or “Generate a food truck menu.”","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Write prompts that focus on a single and specific task, like “Write a profile"},{"type":"text","text":" "},{"type":"text","text":"for the dog breed Siberian Husky”. When a prompt is long and complicated, the"},{"text":" ","type":"text"},{"type":"text","text":"model takes longer to respond, and may respond in unpredictable ways. If you"},{"text":" ","type":"text"},{"type":"text","text":"have a complex generation task in mind, break the task down into a series of"},{"type":"text","text":" "},{"text":"specific prompts.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"You can refine your prompt by telling the model exactly how much content it","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"should generate. A prompt like, “Write a profile for the dog breed Siberian"},{"type":"text","text":" "},{"text":"Husky” often takes a long time to process as the model generates a full","type":"text"},{"type":"text","text":" "},{"text":"multi-paragraph essay. If you specify “using three sentences”, it speeds up","type":"text"},{"text":" ","type":"text"},{"text":"processing and generates a concise summary. Use phrases like “in a single","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"sentence” or “in a few words” to shorten the generation time and produce shorter"},{"text":" ","type":"text"},{"type":"text","text":"text."}]},{"syntax":"swift","code":["// Generate a longer response for a specific command.","let simple = \"Write me a story about pears.\"","","// Quickly generate a concise response.","let quick = \"Write the profile for the dog breed Siberian Husky using three sentences.\""],"type":"codeListing"},{"level":2,"type":"heading","text":"Provide instructions to the model","anchor":"Provide-instructions-to-the-model"},{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Instructions"},{"text":" help steer the model in a way that fits the use case of your app.","type":"text"},{"type":"text","text":" "},{"text":"The model obeys prompts at a lower priority than the instructions you provide.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"When you provide instructions to the model, consider specifying details like:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"What the model’s role is; for example, “You are a mentor,” or “You are a movie"},{"type":"text","text":" "},{"type":"text","text":"critic”."}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"What the model should do, like “Help the person extract calendar events,” or","type":"text"},{"text":" ","type":"text"},{"text":"“Help the person by recommending search suggestions”.","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"What the style preferences are, like “Respond as briefly as possible”."}]}]},{"content":[{"inlineContent":[{"type":"text","text":"What the possible safety measures are, like “Respond"},{"text":" ","type":"text"},{"type":"text","text":"with ‘I can’t help with that’ if you’re asked to do something dangerous”."}],"type":"paragraph"}]}]},{"type":"paragraph","inlineContent":[{"text":"Use content you trust in instructions because the model follows them more","type":"text"},{"type":"text","text":" "},{"type":"text","text":"closely than the prompt itself. When you initialize a session with instructions,"},{"type":"text","text":" "},{"type":"text","text":"it affects all prompts the model responds to in that session. Instructions can"},{"type":"text","text":" "},{"text":"also include example responses to help steer the model. When you add examples to","type":"text"},{"type":"text","text":" "},{"type":"text","text":"your prompt, you provide the model with a template that shows the model what a"},{"type":"text","text":" "},{"type":"text","text":"good response looks like."}]},{"anchor":"Generate-a-response","type":"heading","text":"Generate a response","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"To call the model with a prompt, call "},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/respond(to:options:)-b2re","isActive":true,"type":"reference"},{"text":" ","type":"text"},{"type":"text","text":"on your session. The response call is asynchronous because it may take a few"},{"type":"text","text":" "},{"type":"text","text":"seconds for the on-device foundation model to generate the response."}]},{"type":"codeListing","code":["let instructions = \"\"\"","    Suggest five related topics. Keep them concise (three to seven words) and make sure they \\","    build naturally from the person's topic.","    \"\"\"","","let session = LanguageModelSession(instructions: instructions)","","let prompt = \"Making homemade bread\"","let response = try await session.respond(to: prompt)"],"syntax":"swift"},{"style":"note","name":"Note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"A session can only handle a single request at a time, and causes a runtime"},{"type":"text","text":" "},{"type":"text","text":"error if you call it again before the previous request finishes. Check "},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/isResponding","isActive":true,"type":"reference"},{"type":"text","text":""},{"type":"text","text":" "},{"type":"text","text":"to verify the session is done processing the previous request before sending a new one."}]}]},{"inlineContent":[{"type":"text","text":"Instead of working with raw string output from the model, the framework offers"},{"type":"text","text":" "},{"type":"text","text":"guided generation to generate a custom Swift data structure you define. For more"},{"type":"text","text":" "},{"type":"text","text":"information about guided generation, see"},{"type":"text","text":" "},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/generating-swift-data-structures-with-guided-generation","isActive":true,"type":"reference"},{"type":"text","text":"."}],"type":"paragraph"},{"inlineContent":[{"text":"When you make a request to the model, you can provide custom tools to help the","type":"text"},{"type":"text","text":" "},{"type":"text","text":"model complete the request. If the model determines that a "},{"isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Tool","type":"reference"},{"type":"text","text":" can assist with"},{"type":"text","text":" "},{"text":"the request, the framework calls your ","type":"text"},{"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Tool","isActive":true},{"text":" to perform additional actions like","type":"text"},{"text":" ","type":"text"},{"text":"retrieving content from your local database. For more information about tool","type":"text"},{"text":" ","type":"text"},{"text":"calling, see ","type":"text"},{"isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/expanding-generation-with-tool-calling","type":"reference"}],"type":"paragraph"},{"level":2,"text":"Consider context size limits per session","anchor":"Consider-context-size-limits-per-session","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"The ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"context window size","type":"text"}]},{"text":" is a limit on how much data the model can process for a","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"session instance. A token is a chunk of text the model processes, and the system"},{"text":" ","type":"text"},{"type":"text","text":"model supports up to 4,096 tokens. A single token corresponds to three or four"},{"type":"text","text":" "},{"type":"text","text":"characters in languages like English, Spanish, or German, and one token per character"},{"type":"text","text":" "},{"type":"text","text":"in languages like Japanese, Chinese, or Korean. In a single session, the"},{"type":"text","text":" "},{"type":"text","text":"sum of all tokens in the instructions, all prompts, and all outputs count toward"},{"type":"text","text":" "},{"type":"text","text":"the context window size."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If your session processes a large amount of tokens that exceed the context"},{"text":" ","type":"text"},{"text":"window, the framework throws the error ","type":"text"},{"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/GenerationError/exceededContextWindowSize(_:)","isActive":true},{"text":".","type":"text"},{"type":"text","text":" "},{"text":"When you encounter the error, start a new session and try shortening your prompts.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"If you need to process a large amount of data that won’t fit in a single context"},{"type":"text","text":" "},{"type":"text","text":"window limit, break your data into smaller chunks, process each chunk in a"},{"type":"text","text":" "},{"text":"separate session, and then combine the results.","type":"text"}]},{"inlineContent":[{"type":"text","text":"For more information on managing the context window size, see"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"doc://com.apple.documentation/documentation/Technotes/tn3193-managing-the-on-device-foundation-model-s-context-window"},{"type":"text","text":"."}],"type":"paragraph"},{"anchor":"Tune-generation-options-and-optimize-performance","type":"heading","text":"Tune generation options and optimize performance","level":2},{"type":"paragraph","inlineContent":[{"text":"To get the best results for your prompt, experiment with different generation","type":"text"},{"text":" ","type":"text"},{"text":"options. ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions"},{"text":" affects the runtime parameters of the","type":"text"},{"text":" ","type":"text"},{"text":"model, and you can customize them for every request you make.","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["// Customize the temperature to increase creativity.","let options = GenerationOptions(temperature: 2.0)","","let session = LanguageModelSession()","","let prompt = \"Write me a story about coffee.\"","let response = try await session.respond(","    to: prompt,","    options: options",")"]},{"inlineContent":[{"type":"text","text":"When you test apps that use the framework, use Xcode Instruments to understand"},{"type":"text","text":" "},{"type":"text","text":"more about the requests you make, like the time it takes to perform a request. When"},{"text":" ","type":"text"},{"type":"text","text":"you make a request, you can access the "},{"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Transcript","isActive":true},{"type":"text","text":" entries that describe the actions"},{"text":" ","type":"text"},{"text":"the model takes during your ","type":"text"},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession","type":"reference","isActive":true},{"text":".","type":"text"}],"type":"paragraph"}]}],"references":{"improving-safety-of-model-output-PageImage-card.png":{"variants":[{"url":"https://docs-assets.developer.apple.com/published/c4b1976413fefae6c1b7f1ab749cbb3b/improving-safety-of-model-output-PageImage-card%402x.png","traits":["2x","light"]},{"url":"https://docs-assets.developer.apple.com/published/3ee223794e8037bc7a83f0458b2773db/improving-safety-of-model-output-PageImage-card~dark%402x.png","traits":["2x","dark"]}],"alt":"An abstract illustration that represents model output encountering safety mechanisms.","identifier":"improving-safety-of-model-output-PageImage-card.png","type":"image"},"foundation-models-framework-landing-PageImage-card.png":{"identifier":"foundation-models-framework-landing-PageImage-card.png","type":"image","variants":[{"url":"https://docs-assets.developer.apple.com/published/3b31c20778305122ef5216e67f6a6e33/foundation-models-framework-landing-PageImage-card%402x.png","traits":["2x","light"]},{"traits":["2x","dark"],"url":"https://docs-assets.developer.apple.com/published/f16169705bca6cccc271e074fe6ce38d/foundation-models-framework-landing-PageImage-card~dark%402x.png"}],"alt":"An illustration that represents a foundation model."},"doc://com.apple.documentation/documentation/Technotes/tn3193-managing-the-on-device-foundation-model-s-context-window":{"type":"topic","title":"TN3193: Managing the on-device foundation model’s context window","abstract":[{"text":"Learn how to budget for the context window limit of Apple’s on-device foundation model and handle the error when reaching the limit.","type":"text"}],"url":"/documentation/Technotes/tn3193-managing-the-on-device-foundation-model-s-context-window","kind":"article","role":"article","identifier":"doc://com.apple.documentation/documentation/Technotes/tn3193-managing-the-on-device-foundation-model-s-context-window"},"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase":{"role":"symbol","type":"topic","abstract":[{"text":"A type that represents the use case for prompting.","type":"text"}],"fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"UseCase","kind":"identifier"}],"url":"/documentation/foundationmodels/systemlanguagemodel/usecase","title":"SystemLanguageModel.UseCase","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase","navigatorTitle":[{"text":"UseCase","kind":"identifier"}],"kind":"symbol"},"doc://com.apple.foundationmodels/documentation/FoundationModels/Tool":{"title":"Tool","abstract":[{"text":"A tool that a model can call to gather information at runtime or perform side effects.","type":"text"}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Tool","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Tool"}],"url":"/documentation/foundationmodels/tool","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Tool"}],"kind":"symbol","type":"topic"},"doc://com.apple.foundationmodels/documentation/FoundationModels/expanding-generation-with-tool-calling":{"kind":"article","url":"/documentation/foundationmodels/expanding-generation-with-tool-calling","abstract":[{"type":"text","text":"Build tools that enable the model to perform tasks that are specific to your use case."}],"type":"topic","role":"article","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/expanding-generation-with-tool-calling","title":"Expanding generation with tool calling"},"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions":{"role":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions","abstract":[{"text":"Options that control how the model generates its response to a prompt.","type":"text"}],"url":"/documentation/foundationmodels/generationoptions","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"GenerationOptions"}],"title":"GenerationOptions","kind":"symbol","type":"topic","navigatorTitle":[{"text":"GenerationOptions","kind":"identifier"}]},"doc://com.apple.foundationmodels/documentation/FoundationModels":{"url":"/documentation/foundationmodels","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels","images":[{"type":"card","identifier":"foundation-models-framework-landing-PageImage-card.png"}],"title":"Foundation Models","role":"collection","type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Perform tasks with the on-device model that specializes in language understanding, structured output, and tool calling."}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/adding-intelligent-app-features-with-generative-models":{"url":"/documentation/foundationmodels/adding-intelligent-app-features-with-generative-models","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/adding-intelligent-app-features-with-generative-models","title":"Adding intelligent app features with generative models","abstract":[{"text":"Build robust apps with guided generation and tool calling by adopting the Foundation Models framework.","type":"text"}],"type":"topic","role":"sampleCode","images":[{"type":"card","identifier":"adding-intelligent-app-features-with-generative-models-PageImage-card.png"}],"kind":"article"},"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession":{"kind":"symbol","title":"LanguageModelSession","role":"symbol","type":"topic","abstract":[{"text":"An object that represents a session that interacts with a language model.","type":"text"}],"navigatorTitle":[{"text":"LanguageModelSession","kind":"identifier"}],"url":"/documentation/foundationmodels/languagemodelsession","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LanguageModelSession","kind":"identifier"}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession"},"doc://com.apple.foundationmodels/documentation/FoundationModels/Prompt":{"fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Prompt"}],"type":"topic","url":"/documentation/foundationmodels/prompt","abstract":[{"type":"text","text":"A prompt from a person to the model."}],"kind":"symbol","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Prompt"}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Prompt","title":"Prompt"},"doc://com.apple.foundationmodels/documentation/FoundationModels/Transcript":{"navigatorTitle":[{"text":"Transcript","kind":"identifier"}],"abstract":[{"type":"text","text":"A linear history of entries that reflect an interaction with a session."}],"kind":"symbol","type":"topic","url":"/documentation/foundationmodels/transcript","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Transcript","title":"Transcript","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"Transcript","kind":"identifier"}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/isResponding":{"type":"topic","title":"isResponding","kind":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/isResponding","role":"symbol","url":"/documentation/foundationmodels/languagemodelsession/isresponding","abstract":[{"text":"A Boolean value that indicates a response is being generated.","type":"text"}],"fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"isResponding"},{"kind":"text","text":": "},{"text":"Bool","kind":"typeIdentifier","preciseIdentifier":"s:Sb"}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/default":{"kind":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/default","abstract":[{"type":"text","text":"The base version of the model."}],"url":"/documentation/foundationmodels/systemlanguagemodel/default","role":"symbol","title":"default","fragments":[{"text":"static","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"text":" ","kind":"text"},{"kind":"identifier","text":"`default`"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:16FoundationModels19SystemLanguageModelC","text":"SystemLanguageModel"}],"type":"topic"},"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/respond(to:options:)-b2re":{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/respond(to:options:)-b2re","url":"/documentation/foundationmodels/languagemodelsession/respond(to:options:)-b2re","kind":"symbol","type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"respond","kind":"identifier"},{"text":"(","kind":"text"},{"text":"to","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"options"},{"kind":"text","text":": "},{"preciseIdentifier":"s:16FoundationModels17GenerationOptionsV","text":"GenerationOptions","kind":"typeIdentifier"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"preciseIdentifier":"s:16FoundationModels20LanguageModelSessionC","text":"LanguageModelSession","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"Response","preciseIdentifier":"s:16FoundationModels20LanguageModelSessionC8ResponseV","kind":"typeIdentifier"},{"kind":"text","text":"<"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"kind":"text","text":">"}],"title":"respond(to:options:)","abstract":[{"type":"text","text":"Produces a response to a prompt."}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/GenerationError/exceededContextWindowSize(_:)":{"abstract":[{"type":"text","text":"An error that signals the session reached its context window size limit."}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/GenerationError/exceededContextWindowSize(_:)","title":"LanguageModelSession.GenerationError.exceededContextWindowSize(_:)","url":"/documentation/foundationmodels/languagemodelsession/generationerror/exceededcontextwindowsize(_:)","role":"symbol","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"text":"exceededContextWindowSize","kind":"identifier"},{"text":"(","kind":"text"},{"text":"LanguageModelSession","kind":"typeIdentifier","preciseIdentifier":"s:16FoundationModels20LanguageModelSessionC"},{"text":".","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:16FoundationModels20LanguageModelSessionC15GenerationErrorO","text":"GenerationError"},{"text":".","kind":"text"},{"text":"Context","kind":"typeIdentifier","preciseIdentifier":"s:16FoundationModels20LanguageModelSessionC15GenerationErrorO7ContextV"},{"kind":"text","text":")"}],"kind":"symbol","type":"topic"},"doc://com.apple.foundationmodels/documentation/FoundationModels/generating-swift-data-structures-with-guided-generation":{"kind":"article","abstract":[{"type":"text","text":"Create robust apps by describing output you want programmatically."}],"type":"topic","role":"article","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/generating-swift-data-structures-with-guided-generation","title":"Generating Swift data structures with guided generation","url":"/documentation/foundationmodels/generating-swift-data-structures-with-guided-generation"},"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel":{"type":"topic","navigatorTitle":[{"text":"SystemLanguageModel","kind":"identifier"}],"abstract":[{"type":"text","text":"An on-device large language model capable of text generation tasks."}],"url":"/documentation/foundationmodels/systemlanguagemodel","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel","kind":"symbol","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"SystemLanguageModel","kind":"identifier"}],"title":"SystemLanguageModel"},"adding-intelligent-app-features-with-generative-models-PageImage-card.png":{"type":"image","variants":[{"traits":["2x","light"],"url":"https://docs-assets.developer.apple.com/published/29399e54b8f238bef3b51af88ed97253/adding-intelligent-app-features-with-generative-models-PageImage-card%402x.png"},{"url":"https://docs-assets.developer.apple.com/published/5b6f36cef31dcb9443d08d1885d21cab/adding-intelligent-app-features-with-generative-models-PageImage-card~dark%402x.png","traits":["2x","dark"]}],"alt":"A screenshot of an itinerary planning app.","identifier":"adding-intelligent-app-features-with-generative-models-PageImage-card.png"},"https://developer.apple.com/design/human-interface-guidelines/generative-ai":{"title":"Generative AI","url":"https://developer.apple.com/design/human-interface-guidelines/generative-ai","type":"link","titleInlineContent":[{"text":"Generative AI","type":"text"}],"identifier":"https://developer.apple.com/design/human-interface-guidelines/generative-ai"},"doc://com.apple.foundationmodels/documentation/FoundationModels/improving-the-safety-of-generative-model-output":{"images":[{"identifier":"improving-safety-of-model-output-PageImage-card.png","type":"card"}],"kind":"article","url":"/documentation/foundationmodels/improving-the-safety-of-generative-model-output","abstract":[{"text":"Create generative experiences that appropriately handle sensitive inputs and respect people.","type":"text"}],"type":"topic","role":"article","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/improving-the-safety-of-generative-model-output","title":"Improving the safety of generative model output"},"doc://com.apple.documentation/documentation/technologies":{"abstract":[{"type":"text","text":""}],"role":"overview","type":"topic","kind":"technologies","identifier":"doc://com.apple.documentation/documentation/technologies","title":"Technologies","url":"/documentation/technologies"},"doc://com.apple.foundationmodels/documentation/FoundationModels/Instructions":{"type":"topic","role":"symbol","kind":"symbol","navigatorTitle":[{"kind":"identifier","text":"Instructions"}],"abstract":[{"type":"text","text":"Details you provide that define the model’s intended behavior on prompts."}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Instructions","url":"/documentation/foundationmodels/instructions","fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"Instructions","kind":"identifier"}],"title":"Instructions"},"foundation-models-PageImage-card.png":{"identifier":"foundation-models-PageImage-card.png","alt":null,"type":"image","variants":[{"url":"https://docs-assets.developer.apple.com/published/096a5d179ca102a325db9f643e9bc31e/foundation-models-PageImage-card.png","traits":["1x","light"]},{"traits":["1x","dark"],"url":"https://docs-assets.developer.apple.com/published/bd8f99c52038bd092000c924ab2ded3b/foundation-models-PageImage-card~dark.png"}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/supporting-languages-and-locales-with-foundation-models":{"role":"article","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/supporting-languages-and-locales-with-foundation-models","title":"Supporting languages and locales with Foundation Models","abstract":[{"text":"Generate content in the language people prefer when they interact with your app.","type":"text"}],"type":"topic","url":"/documentation/foundationmodels/supporting-languages-and-locales-with-foundation-models","kind":"article"}},"legalNotices":{"copyright":"Copyright &copy; 2026 Apple Inc. All rights reserved.","termsOfUse":"https://www.apple.com/legal/internet-services/terms/site.html","privacyPolicy":"https://www.apple.com/privacy/privacy-policy"}}