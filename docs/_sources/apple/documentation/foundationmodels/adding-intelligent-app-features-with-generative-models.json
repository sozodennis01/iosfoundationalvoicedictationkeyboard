{"identifier":{"interfaceLanguage":"swift","url":"doc://com.apple.foundationmodels/documentation/FoundationModels/adding-intelligent-app-features-with-generative-models"},"kind":"article","metadata":{"roleHeading":"Sample Code","role":"sampleCode","images":[{"identifier":"adding-intelligent-app-features-with-generative-models-PageImage-card.png","type":"card"}],"platforms":[{"introducedAt":"26.0","name":"iOS","beta":false},{"introducedAt":"26.0","name":"iPadOS","beta":false},{"introducedAt":"26.0","name":"macOS","beta":false},{"beta":false,"introducedAt":"26.0","name":"visionOS"},{"name":"Xcode","beta":false,"introducedAt":"26.0"}],"title":"Adding intelligent app features with generative models","modules":[{"name":"Foundation Models"}]},"sampleCodeDownload":{"action":{"isActive":true,"type":"reference","identifier":"5414fd17db13/AddingIntelligentAppFeaturesWithGenerativeModels.zip","overridingTitle":"Download"},"kind":"sampleDownload"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["/documentation/foundationmodels/adding-intelligent-app-features-with-generative-models"]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["/documentation/foundationmodels/adding-intelligent-app-features-with-generative-models"]}],"sections":[],"abstract":[{"text":"Build robust apps with guided generation and tool calling by adopting the Foundation Models framework.","type":"text"}],"hierarchy":{"paths":[["doc://com.apple.documentation/documentation/technologies","doc://com.apple.foundationmodels/documentation/FoundationModels"]]},"schemaVersion":{"major":0,"minor":3,"patch":0},"seeAlsoSections":[{"title":"Essentials","identifiers":["doc://com.apple.foundationmodels/documentation/FoundationModels/generating-content-and-performing-tasks-with-foundation-models","doc://com.apple.foundationmodels/documentation/FoundationModels/improving-the-safety-of-generative-model-output","doc://com.apple.foundationmodels/documentation/FoundationModels/supporting-languages-and-locales-with-foundation-models","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel","doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase"],"generated":true,"anchor":"Essentials"}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"type":"text","text":"This sample project shows how to integrate generative AI capabilities into an app using the Foundation Models framework. The sample app showcases intelligent trip planning features that help people discover landmarks and generate personalized itineraries."}],"type":"paragraph"},{"inlineContent":[{"text":"The app creates an interactive experience where people can:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Browse curated landmarks with rich visual content","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Generate trip itineraries tailored to a chosen landmark","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Discover points of interest using a custom tool","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Experience real-time content generation with streaming responses","type":"text"}],"type":"paragraph"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"This sample code project is associated with WWDC25 session 259:"},{"type":"text","text":" "},{"isActive":true,"type":"reference","identifier":"https://developer.apple.com/wwdc25/259/"},{"type":"text","text":"."}],"type":"paragraph"}],"type":"aside","name":"Note","style":"note"},{"anchor":"Configure-the-sample-code-project","level":2,"type":"heading","text":"Configure the sample code project"},{"inlineContent":[{"type":"text","text":"To run this sample, you’ll need to:"}],"type":"paragraph"},{"type":"orderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Set the developer team in Xcode for the app target so it automatically manages the provisioning profile. For more information, see "},{"type":"reference","isActive":true,"identifier":"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Set-the-bundle-ID"},{"type":"text","text":" and "},{"identifier":"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Assign-the-project-to-a-team","type":"reference","isActive":true},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"In the Developer portal, enable the WeatherKit app service for your bundle ID so the app can access location-based weather information.","type":"text"}],"type":"paragraph"}]}]},{"text":"Check model availability","type":"heading","anchor":"Check-model-availability","level":2},{"inlineContent":[{"type":"text","text":"Before using the on-device model in the app, check that the model is available by creating an instance of "},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel","isActive":true,"type":"reference"},{"type":"text","text":" with the "},{"type":"reference","isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/default"},{"type":"text","text":" property:"}],"type":"paragraph"},{"code":["let landmark: Landmark","private let model = SystemLanguageModel.default","","var body: some View {","    switch model.availability {","    case .available:","        LandmarkTripView(landmark: landmark)","    case .unavailable(.appleIntelligenceNotEnabled):","        MessageView(","            landmark: self.landmark,","            message: \"\"\"","                     Trip Planner is unavailable because \\","                     Apple Intelligence hasn't been turned on.","                     \"\"\"","        )","    case .unavailable(.modelNotReady):","        MessageView(","            landmark: self.landmark,","            message: \"Trip Planner isn't ready yet. Try again later.\"","        )","    }","}"],"syntax":"swift","type":"codeListing"},{"inlineContent":[{"type":"text","text":"The app handles two unavailability scenarios: Apple Intelligence isn’t enabled or the model isn’t ready for usage. If Apple Intelligence is off, the app tells the person they need to turn it on and if the model isn’t ready, it tells the person the Trip Planner isn’t ready and to try the app again later."}],"type":"paragraph"},{"style":"note","type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"To use the on-device language model, people need to turn on"},{"text":" ","type":"text"},{"text":"Apple Intelligence on their device. For a list of supported","type":"text"},{"type":"text","text":" "},{"text":"devices, see ","type":"text"},{"isActive":true,"identifier":"https://www.apple.com/apple-intelligence/","type":"reference"},{"type":"text","text":"."}]}],"name":"Note"},{"text":"Define structured data for generation","anchor":"Define-structured-data-for-generation","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"The app starts by defining data structures with specific constraints to control what the model generates."},{"type":"text","text":" "},{"text":"The ","type":"text"},{"type":"codeVoice","code":"Itinerary"},{"type":"text","text":" type uses the "},{"type":"reference","isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Generable"},{"text":" macro to create structured content that includes travel plans with activities, hotels, and restaurants.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"@Generable"},{"type":"text","text":" macro automatically converts Swift types into schemas that the model uses for constrained sampling, so you can specify guides to control the values you associate with it."},{"type":"text","text":" "},{"text":"For example, the app uses ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Guide(description:)"},{"text":" to make sure the model creates an exciting name for the trip.","type":"text"},{"type":"text","text":" "},{"text":"It also uses ","type":"text"},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationGuide/anyOf(_:)","isActive":true,"type":"reference"},{"text":" and ","type":"text"},{"isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationGuide/count(_:)","type":"reference"},{"type":"text","text":" to choose any destination from our "},{"type":"codeVoice","code":"ModelData"},{"text":" and show exactly 3 ","type":"text"},{"type":"codeVoice","code":"DayPlan"},{"text":" objects per destination, respectively.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@Generable","struct Itinerary: Equatable {","    @Guide(description: \"An exciting name for the trip.\")","    let title: String","    @Guide(.anyOf(ModelData.landmarkNames))","    let destinationName: String","    let description: String","    @Guide(description: \"An explanation of how the itinerary meets the person's special requests.\")","    let rationale: String","","    @Guide(description: \"A list of day-by-day plans.\")","    @Guide(.count(3))","    let days: [DayPlan]","}","","@Generable","struct DayPlan: Equatable {","    @Guide(description: \"A unique and exciting title for this day plan.\")","    let title: String","    let subtitle: String","    let destination: String","","    @Guide(.count(3))","    let activities: [Activity]","}","","@Generable","struct Activity: Equatable {","    let type: Kind","    let title: String","    let description: String","}","","@Generable","enum Kind {","    case sightseeing","    case foodAndDining","    case shopping","    case hotelAndLodging","}"]},{"inlineContent":[{"type":"text","text":"The "},{"type":"codeVoice","code":"@Generable"},{"text":" macro automatically creates two versions of each type: the complete structure and a ","type":"text"},{"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Generable/PartiallyGenerated","isActive":true},{"type":"text","text":" version which is a mirror of the outer structure except every property is optional."},{"type":"text","text":" "},{"text":"The app uses this ","type":"text"},{"type":"codeVoice","code":"PartiallyGenerated"},{"type":"text","text":" version when streaming and displaying the itinerary generation."}],"type":"paragraph"},{"text":"Configure the model session","level":2,"anchor":"Configure-the-model-session","type":"heading"},{"inlineContent":[{"type":"text","text":"After checking that the model is available, the app configures a "},{"type":"reference","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession","isActive":true},{"type":"text","text":" object with custom tools and detailed instructions in "},{"type":"codeVoice","code":"ItineraryPlanner"},{"type":"text","text":"."},{"text":" ","type":"text"},{"text":"Given a location, the initializer creates the session with structured guidance for generating personalized trip recommendations.","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["init(landmark: Landmark) {","    self.landmark = landmark","    Logging.general.log(\"The landmark is... \\(landmark.name)\")","    let pointOfInterestTool = FindPointsOfInterestTool(landmark: landmark)","    self.session = LanguageModelSession(","        tools: [pointOfInterestTool],","        instructions: Instructions {","            \"Your job is to create an itinerary for the person.\"","            ","            \"Each day needs an activity, hotel and restaurant.\"","            ","            \"\"\"","            Always use the findPointsOfInterest tool to find businesses \\","            and activities in \\(landmark.name), especially hotels \\","            and restaurants.","            ","            The point of interest categories may include:","            \"\"\"","            FindPointsOfInterestTool.categories","            ","            \"\"\"","            Here is a description of \\(landmark.name) for your reference \\","            when considering what activities to generate:","            \"\"\"","            landmark.description","        }","    )","    self.pointOfInterestTool = pointOfInterestTool","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In a generated itinerary, the model instructions ensure that each day contains an activity, hotel, and restaurant. To get the location-specific"},{"text":" ","type":"text"},{"text":"businesses and activities, the sample uses a custom tool, called ","type":"text"},{"type":"codeVoice","code":"FindPointsOfInterestTool"},{"type":"text","text":", with the chosen landmark. The instructions also call the"},{"type":"text","text":" "},{"type":"text","text":"landmark description property as added context when generating the activities."}]},{"text":"Create a custom tool","anchor":"Create-a-custom-tool","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"You can use custom tools to extend the functionality of a model."},{"type":"text","text":" "},{"type":"text","text":"Tool-calling allows the model to interact with external code you create to fetch up-to-date information, ground responses in sources of truth that you provide, and perform side effects."}],"type":"paragraph"},{"inlineContent":[{"text":"The model in this app uses the ","type":"text"},{"type":"codeVoice","code":"FindPointsOfInterestTool"},{"type":"text","text":" tool to enable dynamic discovery of specific businesses and activities for the chosen landmark. The tool uses the "},{"code":"@Generable","type":"codeVoice"},{"text":" macro to make its categories and arguments available to the model.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@Observable","final class FindPointsOfInterestTool: Tool {","    let name = \"findPointsOfInterest\"","    let description = \"Finds points of interest for a landmark.\"","    ","    let landmark: Landmark","    ","    @MainActor var lookupHistory: [Lookup] = []","    ","    init(landmark: Landmark) {","        self.landmark = landmark","    }","","@Generable","enum Category: String, CaseIterable {","    case campground","    case hotel","    case cafe","    case museum","    case marina","    case restaurant","    case nationalMonument","}","","@Generable","struct Arguments {","    @Guide(description: \"This is the type of destination to look up for.\")","    let pointOfInterest: Category","","    @Guide(description: \"The natural language query of what to search for.\")","    let naturalLanguageQuery: String","}"]},{"inlineContent":[{"text":"When you prompt the model with a question or make a request, the model decides whether it can provide an answer or if it needs the help of a tool.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The app explicitly instructs the model to always use the "},{"code":"findPointsOfInterestTool","type":"codeVoice"},{"text":" in the ","type":"text"},{"type":"codeVoice","code":"ItineraryPlanner"},{"type":"text","text":" instructions. This allows the model to automatically call the tool to find relevant hotels, restaurants, and activities for the destinations."}],"type":"paragraph"},{"level":2,"anchor":"Stream-and-display-partial-responses-in-real-time","type":"heading","text":"Stream and display partial responses in real time"},{"type":"paragraph","inlineContent":[{"text":"The app shows real-time content generation by streaming partial responses from the model. The ","type":"text"},{"code":"ItineraryPlanner","type":"codeVoice"},{"text":" uses ","type":"text"},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/streamResponse(generating:includeSchemaInPrompt:options:prompt:)","isActive":true,"type":"reference"},{"type":"text","text":" to generate "},{"type":"codeVoice","code":"Itinerary.PartiallyGenerated"},{"text":" objects so itinerary items are shown incrementally to the person.","type":"text"}]},{"type":"paragraph","inlineContent":[{"text":"You can opt for specific ","type":"text"},{"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions","isActive":true,"type":"reference"},{"type":"text","text":" to adjust the way the model generates these responses."},{"text":" ","type":"text"},{"text":"For generating the itinerary, the app opts for a ","type":"text"},{"isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions/SamplingMode/greedy","type":"reference"},{"type":"text","text":" sampling mode so the model always results in the same output for a given input."},{"type":"text","text":" "},{"text":"This ensures the prompt generates consistent recommendations for an itinerary specific to the given landmark.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["private(set) var itinerary: Itinerary.PartiallyGenerated?","","func suggestItinerary(dayCount: Int) async throws {","    let stream = session.streamResponse(","        generating: Itinerary.self,","        includeSchemaInPrompt: false,","        options: GenerationOptions(sampling: .greedy)","    ) {","        \"Generate a \\(dayCount)-day itinerary to \\(landmark.name).\"","","        \"Give it a fun title and description.\"","","        \"Here is an example, but don't copy it:\"","        Itinerary.exampleTripToJapan","    }","","    for try await partialResponse in stream {","        itinerary = partialResponse.content","    }","}"]},{"type":"paragraph","inlineContent":[{"text":"The app presents the responses in a SwiftUI view.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"ItineraryPlanningView"},{"type":"text","text":" displays real-time visual feedback as the model searches for points of interest, showing people what’s happening when generating content:"}]},{"syntax":"swift","code":["ForEach(planner.pointOfInterestTool.lookupHistory) { element in","    HStack {","        Image(systemName: \"location.magnifyingglass\")","        Text(\"Searching **\\(element.history.pointOfInterest.rawValue)** in \\(landmark.name)...\")","    }","    .transition(.blurReplace)","}"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"The app displays messages like “Searching "},{"inlineContent":[{"type":"text","text":"hotel"}],"type":"strong"},{"type":"text","text":" in Yosemite…” and “Searching "},{"type":"strong","inlineContent":[{"text":"restaurant","type":"text"}]},{"text":" in Yosemite…” to let people know which point of interest category the model provided as input to the tool when actively searching for nearby points of interest.","type":"text"},{"text":" ","type":"text"},{"text":"In the background, however, the tool executes and provides updates to the view.","type":"text"},{"text":" ","type":"text"},{"text":"The view shows a blurred overlay while generating each day plan, then reveals the full itinerary after the search completes.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"Tag-content-dynamically","text":"Tag content dynamically"},{"inlineContent":[{"text":"The app uses content tagging on the provided landmarks to help people quickly understand","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the characteristics of each destination."},{"text":" ","type":"text"},{"text":"A content tagging model produces a list of categorizing tags based on the input text you provide.","type":"text"},{"type":"text","text":" "},{"text":"When you prompt the content tagging model, it produces a tag that uses one to a few lowercase words.","type":"text"},{"text":" ","type":"text"},{"text":"The ","type":"text"},{"code":"LandmarkDescriptionView","type":"codeVoice"},{"type":"text","text":" prompts the content tagging model to automatically generate relevant hashtags for landmark descriptions, like "},{"code":"#nature","type":"codeVoice"},{"type":"text","text":", "},{"code":"#hiking","type":"codeVoice"},{"text":", or ","type":"text"},{"type":"codeVoice","code":"#scenic"},{"text":", based on each landmark’s description.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"For more information on initializing content tagging, see "},{"type":"reference","identifier":"doc://com.apple.documentation/documentation/FoundationModels/categorizing-and-organizing-data-with-content-tags","isActive":true},{"type":"text","text":"."}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["let contentTaggingModel = SystemLanguageModel(useCase: .contentTagging)","",".task {","    if !contentTaggingModel.isAvailable { return }","    do {","        let session = LanguageModelSession(model: contentTaggingModel)","        let stream = session.streamResponse(","            to: landmark.description,","            generating: TaggingResponse.self,","            options: GenerationOptions(sampling: .greedy)","        )","        for try await newTags in stream {","            generatedTags = newTags.content","        }","    } catch {","        Logging.general.error(\"\\(error.localizedDescription)\")","    }","}"]},{"level":2,"type":"heading","text":"Integrate with other framework features","anchor":"Integrate-with-other-framework-features"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can combine these generative model features with other Apple frameworks. For example, the "},{"code":"LocationLookup","type":"codeVoice"},{"type":"text","text":" class uses "},{"isActive":true,"type":"reference","identifier":"doc://com.apple.documentation/documentation/MapKit"},{"text":" to search for addresses for our points of interest, showing how to combine model-generated content with weather information and location data for complete travel planning.","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["@Observable @MainActor","final class LocationLookup {","    private(set) var item: MKMapItem?","    private(set) var temperatureString: String?","","    func performLookup(location: String) {","        Task {","            let item = await self.mapItem(atLocation: location)","            if let location = item?.location {","                self.temperatureString = await self.weather(atLocation: location)","            }","        }","    }","    ","    private func mapItem(atLocation location: String) async -> MKMapItem? {","        let request = MKLocalSearch.Request()","        request.naturalLanguageQuery = location","        ","        let search = MKLocalSearch(request: request)","        do {","            return try await search.start().mapItems.first","        } catch {","            Logging.general.error(\"Failed to look up location: \\(location). Error: \\(error)\")","        }","        return nil","    }","}"]},{"inlineContent":[{"type":"text","text":"The model generates location names as text, and the "},{"code":"LocationLookup","type":"codeVoice"},{"type":"text","text":" class converts them into real, mappable locations using the natural language search capabilities in MapKit."}],"type":"paragraph"}]}],"references":{"5414fd17db13/AddingIntelligentAppFeaturesWithGenerativeModels.zip":{"type":"download","identifier":"5414fd17db13/AddingIntelligentAppFeaturesWithGenerativeModels.zip","checksum":"5414fd17db13785ae7dd590e8dc3958e9e2d2fed35d40947c2aaa2e8d1ee9e228363c650353fad3b5a10e4dbd8d22864db2394d4be300b2e0bd602a2dd30ad15","url":"https://docs-assets.developer.apple.com/published/5414fd17db13/AddingIntelligentAppFeaturesWithGenerativeModels.zip"},"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions":{"role":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions","abstract":[{"text":"Options that control how the model generates its response to a prompt.","type":"text"}],"url":"/documentation/foundationmodels/generationoptions","fragments":[{"kind":"keyword","text":"struct"},{"text":" ","kind":"text"},{"kind":"identifier","text":"GenerationOptions"}],"title":"GenerationOptions","kind":"symbol","type":"topic","navigatorTitle":[{"text":"GenerationOptions","kind":"identifier"}]},"doc://com.apple.foundationmodels/documentation/FoundationModels":{"url":"/documentation/foundationmodels","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels","images":[{"type":"card","identifier":"foundation-models-framework-landing-PageImage-card.png"}],"title":"Foundation Models","role":"collection","type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Perform tasks with the on-device model that specializes in language understanding, structured output, and tool calling."}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationGuide/anyOf(_:)":{"conformance":{"conformancePrefix":[{"type":"text","text":"Conforms when"}],"availabilityPrefix":[{"text":"Available when","type":"text"}],"constraints":[{"code":"Value","type":"codeVoice"},{"text":" is ","type":"text"},{"code":"String","type":"codeVoice"},{"text":".","type":"text"}]},"kind":"symbol","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"anyOf","kind":"identifier"},{"text":"([","kind":"text"},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"text":"]) -> ","kind":"text"},{"text":"GenerationGuide","preciseIdentifier":"s:16FoundationModels15GenerationGuideV","kind":"typeIdentifier"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"text":">","kind":"text"}],"abstract":[{"type":"text","text":"Enforces that the string be one of the provided values."}],"type":"topic","role":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationGuide/anyOf(_:)","title":"anyOf(_:)","url":"/documentation/foundationmodels/generationguide/anyof(_:)"},"doc://com.apple.foundationmodels/documentation/FoundationModels/Generable/PartiallyGenerated":{"fragments":[{"text":"associatedtype","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PartiallyGenerated","kind":"identifier"},{"text":" : ","kind":"text"},{"text":"ConvertibleFromGeneratedContent","preciseIdentifier":"s:16FoundationModels31ConvertibleFromGeneratedContentP","kind":"typeIdentifier"},{"text":" = ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}],"title":"PartiallyGenerated","abstract":[{"text":"A representation of partially generated content","type":"text"}],"kind":"symbol","defaultImplementations":1,"url":"/documentation/foundationmodels/generable/partiallygenerated","role":"symbol","required":true,"type":"topic","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Generable/PartiallyGenerated"},"foundation-models-PageImage-card.png":{"type":"image","identifier":"foundation-models-PageImage-card.png","variants":[{"url":"https://docs-assets.developer.apple.com/published/096a5d179ca102a325db9f643e9bc31e/foundation-models-PageImage-card.png","traits":["1x","light"]},{"traits":["1x","dark"],"url":"https://docs-assets.developer.apple.com/published/bd8f99c52038bd092000c924ab2ded3b/foundation-models-PageImage-card~dark.png"}],"alt":"An abstract illustration with lines coming together to form a single line."},"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase":{"role":"symbol","type":"topic","abstract":[{"text":"A type that represents the use case for prompting.","type":"text"}],"fragments":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"text":"UseCase","kind":"identifier"}],"url":"/documentation/foundationmodels/systemlanguagemodel/usecase","title":"SystemLanguageModel.UseCase","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/UseCase","navigatorTitle":[{"text":"UseCase","kind":"identifier"}],"kind":"symbol"},"doc://com.apple.foundationmodels/documentation/FoundationModels/Generable":{"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Generable"}],"title":"Generable","type":"topic","kind":"symbol","abstract":[{"text":"A type that the model uses when responding to prompts.","type":"text"}],"fragments":[{"text":"protocol","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"Generable"}],"url":"/documentation/foundationmodels/generable","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Generable"},"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession":{"kind":"symbol","title":"LanguageModelSession","role":"symbol","type":"topic","abstract":[{"text":"An object that represents a session that interacts with a language model.","type":"text"}],"navigatorTitle":[{"text":"LanguageModelSession","kind":"identifier"}],"url":"/documentation/foundationmodels/languagemodelsession","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LanguageModelSession","kind":"identifier"}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession"},"doc://com.apple.foundationmodels/documentation/FoundationModels/improving-the-safety-of-generative-model-output":{"images":[{"identifier":"improving-safety-of-model-output-PageImage-card.png","type":"card"}],"kind":"article","url":"/documentation/foundationmodels/improving-the-safety-of-generative-model-output","abstract":[{"text":"Create generative experiences that appropriately handle sensitive inputs and respect people.","type":"text"}],"type":"topic","role":"article","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/improving-the-safety-of-generative-model-output","title":"Improving the safety of generative model output"},"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationGuide/count(_:)":{"fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"text":"count","kind":"identifier"},{"kind":"text","text":"("},{"text":"_","kind":"externalParam"},{"kind":"text","text":":)"}],"abstract":[{"type":"text","text":"Enforces that the array has exactly a certain number elements."}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationGuide/count(_:)","role":"symbol","title":"count(_:)","type":"topic","url":"/documentation/foundationmodels/generationguide/count(_:)","kind":"symbol"},"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel":{"type":"topic","navigatorTitle":[{"text":"SystemLanguageModel","kind":"identifier"}],"abstract":[{"type":"text","text":"An on-device large language model capable of text generation tasks."}],"url":"/documentation/foundationmodels/systemlanguagemodel","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel","kind":"symbol","role":"symbol","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"SystemLanguageModel","kind":"identifier"}],"title":"SystemLanguageModel"},"doc://com.apple.documentation/documentation/MapKit":{"abstract":[{"type":"text","text":"Display map or satellite imagery within your app, call out points of interest, and determine placemark information for map coordinates."}],"type":"topic","identifier":"doc://com.apple.documentation/documentation/MapKit","role":"collection","url":"/documentation/MapKit","title":"MapKit","kind":"symbol"},"doc://com.apple.foundationmodels/documentation/FoundationModels/supporting-languages-and-locales-with-foundation-models":{"role":"article","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/supporting-languages-and-locales-with-foundation-models","title":"Supporting languages and locales with Foundation Models","abstract":[{"text":"Generate content in the language people prefer when they interact with your app.","type":"text"}],"type":"topic","url":"/documentation/foundationmodels/supporting-languages-and-locales-with-foundation-models","kind":"article"},"doc://com.apple.foundationmodels/documentation/FoundationModels/Guide(description:)":{"fragments":[{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Guide","kind":"identifier"},{"text":"(","kind":"text"},{"text":"description","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"text":")","kind":"text"}],"type":"topic","url":"/documentation/foundationmodels/guide(description:)","role":"symbol","title":"Guide(description:)","kind":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Guide(description:)","abstract":[{"type":"text","text":"Allows for influencing the allowed values of properties of a "},{"type":"reference","isActive":true,"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/Generable"},{"text":" type.","type":"text"}]},"foundation-models-framework-landing-PageImage-card.png":{"type":"image","identifier":"foundation-models-framework-landing-PageImage-card.png","variants":[{"traits":["2x","light"],"url":"https://docs-assets.developer.apple.com/published/3b31c20778305122ef5216e67f6a6e33/foundation-models-framework-landing-PageImage-card%402x.png"},{"traits":["2x","dark"],"url":"https://docs-assets.developer.apple.com/published/f16169705bca6cccc271e074fe6ce38d/foundation-models-framework-landing-PageImage-card~dark%402x.png"}],"alt":"An illustration that represents a foundation model."},"doc://com.apple.documentation/documentation/technologies":{"abstract":[{"type":"text","text":""}],"role":"overview","type":"topic","kind":"technologies","identifier":"doc://com.apple.documentation/documentation/technologies","title":"Technologies","url":"/documentation/technologies"},"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions/SamplingMode/greedy":{"abstract":[{"type":"text","text":"A sampling mode that always chooses the most likely token."}],"identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/GenerationOptions/SamplingMode/greedy","kind":"symbol","url":"/documentation/foundationmodels/generationoptions/samplingmode/greedy","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"greedy","kind":"identifier"},{"kind":"text","text":": "},{"preciseIdentifier":"s:16FoundationModels17GenerationOptionsV","kind":"typeIdentifier","text":"GenerationOptions"},{"text":".","kind":"text"},{"kind":"typeIdentifier","text":"SamplingMode","preciseIdentifier":"s:16FoundationModels17GenerationOptionsV12SamplingModeV"}],"type":"topic","role":"symbol","title":"greedy"},"https://developer.apple.com/wwdc25/259/":{"type":"link","identifier":"https://developer.apple.com/wwdc25/259/","url":"https://developer.apple.com/wwdc25/259/","title":"Code-along: Add Intelligence to your App using the Foundation Models framework","titleInlineContent":[{"text":"Code-along: Add Intelligence to your App using the Foundation Models framework","type":"text"}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/generating-content-and-performing-tasks-with-foundation-models":{"kind":"article","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/generating-content-and-performing-tasks-with-foundation-models","role":"article","images":[{"identifier":"foundation-models-PageImage-card.png","type":"card"}],"title":"Generating content and performing tasks with Foundation Models","url":"/documentation/foundationmodels/generating-content-and-performing-tasks-with-foundation-models","abstract":[{"text":"Enhance the experience in your app by prompting an on-device large language model.","type":"text"}],"type":"topic"},"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/default":{"kind":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/SystemLanguageModel/default","abstract":[{"type":"text","text":"The base version of the model."}],"url":"/documentation/foundationmodels/systemlanguagemodel/default","role":"symbol","title":"default","fragments":[{"text":"static","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"text":" ","kind":"text"},{"kind":"identifier","text":"`default`"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:16FoundationModels19SystemLanguageModelC","text":"SystemLanguageModel"}],"type":"topic"},"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Assign-the-project-to-a-team":{"type":"link","identifier":"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Assign-the-project-to-a-team","url":"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Assign-the-project-to-a-team","title":"Assign the project to a team","titleInlineContent":[{"text":"Assign the project to a team","type":"text"}]},"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/streamResponse(generating:includeSchemaInPrompt:options:prompt:)":{"url":"/documentation/foundationmodels/languagemodelsession/streamresponse(generating:includeschemainprompt:options:prompt:)","type":"topic","kind":"symbol","identifier":"doc://com.apple.foundationmodels/documentation/FoundationModels/LanguageModelSession/streamResponse(generating:includeSchemaInPrompt:options:prompt:)","fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"streamResponse","kind":"identifier"},{"text":"<","kind":"text"},{"text":"Content","kind":"genericParameter"},{"text":">(","kind":"text"},{"kind":"externalParam","text":"generating"},{"text":": ","kind":"text"},{"text":"Content","kind":"typeIdentifier"},{"text":".Type, ","kind":"text"},{"kind":"externalParam","text":"includeSchemaInPrompt"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Sb","kind":"typeIdentifier","text":"Bool"},{"kind":"text","text":", "},{"text":"options","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:16FoundationModels17GenerationOptionsV","kind":"typeIdentifier","text":"GenerationOptions"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"prompt"},{"text":": () ","kind":"text"},{"kind":"keyword","text":"throws"},{"text":" -> ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:16FoundationModels6PromptV","text":"Prompt"},{"kind":"text","text":") "},{"kind":"keyword","text":"rethrows"},{"kind":"text","text":" -> sending "},{"preciseIdentifier":"s:16FoundationModels20LanguageModelSessionC","kind":"typeIdentifier","text":"LanguageModelSession"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"ResponseStream","preciseIdentifier":"s:16FoundationModels20LanguageModelSessionC14ResponseStreamV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Content"},{"kind":"text","text":">"}],"role":"symbol","title":"streamResponse(generating:includeSchemaInPrompt:options:prompt:)","abstract":[{"text":"Produces a response stream for a type.","type":"text"}]},"doc://com.apple.documentation/documentation/FoundationModels/categorizing-and-organizing-data-with-content-tags":{"url":"/documentation/FoundationModels/categorizing-and-organizing-data-with-content-tags","kind":"article","identifier":"doc://com.apple.documentation/documentation/FoundationModels/categorizing-and-organizing-data-with-content-tags","title":"Categorizing and organizing data with content tags","abstract":[{"text":"Identify topics, actions, objects, and emotions in input text with a content tagging model.","type":"text"}],"type":"topic","role":"article"},"adding-intelligent-app-features-with-generative-models-PageImage-card.png":{"type":"image","identifier":"adding-intelligent-app-features-with-generative-models-PageImage-card.png","variants":[{"traits":["2x","light"],"url":"https://docs-assets.developer.apple.com/published/29399e54b8f238bef3b51af88ed97253/adding-intelligent-app-features-with-generative-models-PageImage-card%402x.png"},{"traits":["2x","dark"],"url":"https://docs-assets.developer.apple.com/published/5b6f36cef31dcb9443d08d1885d21cab/adding-intelligent-app-features-with-generative-models-PageImage-card~dark%402x.png"}],"alt":null},"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Set-the-bundle-ID":{"type":"link","identifier":"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Set-the-bundle-ID","url":"https://developer.apple.com/documentation/xcode/preparing-your-app-for-distribution#Set-the-bundle-ID","title":"Set the bundle ID","titleInlineContent":[{"text":"Set the bundle ID","type":"text"}]},"improving-safety-of-model-output-PageImage-card.png":{"type":"image","identifier":"improving-safety-of-model-output-PageImage-card.png","variants":[{"traits":["2x","light"],"url":"https://docs-assets.developer.apple.com/published/c4b1976413fefae6c1b7f1ab749cbb3b/improving-safety-of-model-output-PageImage-card%402x.png"},{"traits":["2x","dark"],"url":"https://docs-assets.developer.apple.com/published/3ee223794e8037bc7a83f0458b2773db/improving-safety-of-model-output-PageImage-card~dark%402x.png"}],"alt":"An abstract illustration that represents model output encountering safety mechanisms."},"https://www.apple.com/apple-intelligence/":{"type":"link","identifier":"https://www.apple.com/apple-intelligence/","url":"https://www.apple.com/apple-intelligence/","title":"Apple Intelligence","titleInlineContent":[{"text":"Apple Intelligence","type":"text"}]}},"variantOverrides":[{"patch":[{"path":"/identifier/interfaceLanguage","op":"replace","value":"occ"},{"value":null,"op":"add","path":"/topicSections"},{"path":"/seeAlsoSections","op":"replace","value":[{"generated":true,"title":"Essentials","identifiers":[],"anchor":"Essentials"}]}],"traits":[{"interfaceLanguage":"occ"}]}],"legalNotices":{"copyright":"Copyright &copy; 2026 Apple Inc. All rights reserved.","termsOfUse":"https://www.apple.com/legal/internet-services/terms/site.html","privacyPolicy":"https://www.apple.com/privacy/privacy-policy"}}